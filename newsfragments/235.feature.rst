Fully inlined the type annotations. Big thanks to SethMMorton.
